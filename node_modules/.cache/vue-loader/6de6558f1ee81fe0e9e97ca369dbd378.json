{"remainingRequest":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/hayyuu/Gebeta/Gebeta-Restaurant/src/views/Application.vue?vue&type=template&id=774615f4&scoped=true","dependencies":[{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/src/views/Application.vue","mtime":1630218053242},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1628298225000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgogICAgICAgIDxoMz5TdGVwIDIgb2YgMjwvaDM+CiAgICAgICAgPGhyPgogICAgICAgIDxmb3JtIEBzdWJtaXQucHJldmVudD0iUmVnaXN0ZXIiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi0zIGYiPgogICAgICAgICAgICAgICAgPGxhYmVsPkJ1c2luZXNzIExpY2Vuc2UKICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImZpbGUiIHJlZj0idHJhZGVMaWNlbnNlIiB2LW9uOmNoYW5nZT0iaGFuZGxlRmlsZVVwbG9hZCgpIiBjbGFzcz0iZmlsZSIvPgogICAgICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJpbmZvIj5VcGxvYWQgZ292ZXJubWVudCBJc3N1ZWQgVHJhZGUgbGljZW5zZSBvZiB5b3VyIHJlc3RhdXJhbnQ8L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi0zIGYiPgogICAgICAgICAgICAgICA8bGFiZWw+WW91ciBrZWJlbGUgSUQtQ2FyZAogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImZpbGUiIHJlZj0iaWRDYXJkIiB2LW9uOmNoYW5nZT0iaGFuZGxlRmlsZVVwbG9hZCgpIiBjbGFzcz0iZmlsZSIvPgogICAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImluZm8iPlVwbG9hZCBnb3Zlcm5tZW50IElzc3VlZCBJRDwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTMiPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImVtYWlsIiB2LW1vZGVsPSJlbWFpbCIgcGxhY2Vob2xkZXI9IkVtYWlsIj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTMiPiAgICAgCiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIHYtbW9kZWw9InBhc3N3b3JkIiBwbGFjZWhvbGRlcj0iUGFzc3dvcmQiPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyI+ICAgICAgICAgCiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIHYtbW9kZWw9ImNvbmZpcm1fcGFzc3dvcmQiIHBsYWNlaG9sZGVyPSJjb25maXJtIFBhc3N3b3JkIj4KICAgICAgICAgICAgPC9kaXY+ICAgICAgCiAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0Ij5SZWdpc3RlcjwvYnV0dG9uPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi0zIj48YnIvPgogICAgICAgICAgICAgICAgPGxhYmVsPkhhdmUgYWNjb3VudCA8cm91dGVyLWxpbmsgdG89Jy8nPkxvZ2luIGhlcmU8L3JvdXRlci1saW5rPjwvbGFiZWw+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZm9ybT4KICAgIDwvZGl2PgogICAgPE5vdGlmaWNhdGlvbkxpc3QgOm5vdGlmaWNhdGlvbnM9Im5vdGlmaWNhdGlvbnMiIEByZW1vdmUtbm90aWZpY2F0aW9uPSJyZW1vdmVOb3RpZmljYXRpb24iLz4K"},{"version":3,"sources":["/home/hayyuu/Gebeta/Gebeta-Restaurant/src/views/Application.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;QACH,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;gBACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;kBACpB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtF,CAAC,CAAC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;eAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cAChF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACP,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtD,CAAC,CAAC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACb,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3D,CAAC,CAAC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACb,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACpE,CAAC,CAAC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACb,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACpF,CAAC,CAAC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3E,CAAC,CAAC,CAAC,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACV,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/home/hayyuu/Gebeta/Gebeta-Restaurant/src/views/Application.vue","sourceRoot":"","sourcesContent":["<template>\n    <div class=\"container\">\n        <h3>Step 2 of 2</h3>\n        <hr>\n        <form @submit.prevent=\"Register\">\n            <div class=\"mb-3 f\">\n                <label>Business License\n                  <input type=\"file\" ref=\"tradeLicense\" v-on:change=\"handleFileUpload()\" class=\"file\"/>\n                </label>\n                <span class=\"info\">Upload government Issued Trade license of your restaurant</span>\n            </div>\n            <div class=\"mb-3 f\">\n               <label>Your kebele ID-Card\n                <input type=\"file\" ref=\"idCard\" v-on:change=\"handleFileUpload()\" class=\"file\"/>\n              </label>\n              <span class=\"info\">Upload government Issued ID</span>\n            </div>\n            <div class=\"mb-3\">\n                <input type=\"email\" v-model=\"email\" placeholder=\"Email\">\n            </div>\n            <div class=\"mb-3\">     \n                <input type=\"password\" v-model=\"password\" placeholder=\"Password\">\n            </div>\n            <div class=\"mb-3\">         \n                <input type=\"password\" v-model=\"confirm_password\" placeholder=\"confirm Password\">\n            </div>      \n            <button type=\"submit\">Register</button>\n            <div class=\"mb-3\"><br/>\n                <label>Have account <router-link to='/'>Login here</router-link></label>\n            </div>\n        </form>\n    </div>\n    <NotificationList :notifications=\"notifications\" @remove-notification=\"removeNotification\"/>\n</template>\n\n<script>\nimport '@/assets/styles/style.css';\nimport NotificationList from '../components/NotificationList'\nimport axios from 'axios'\nexport default {\n    name:'Application',\n    props:{\n      name: String,\n      phone: String,\n      location: String,\n    },\n    data(){\n      return {\n        tradeLicense: null,\n        idCard: null,\n        email: '',\n        password: '',\n        confirm_password: '',\n        notifications: []\n      }\n    },\n    components:{\n      NotificationList\n    },\n    methods: {\n        async Register(){\n            if(!this.email | !this.password){\n                this.showNotification(\"Empty feilds!\")\n                return\n            }\n            else if(!this.tradeLicense | !this.idCard){\n              this.showNotification(\"Plase Upload both files!\")\n            }\n            else if(this.confirm_password === this.password){\n                let allowedExtension = ['image/jpeg', 'image/jpg', 'image/png','application/pdf'];\n                if(allowedExtension.indexOf(this.tradeLicense.type)==-1){\n                    this.showNotification('unsupported '+this.tradeLicense.type+' file selected!')\n                    return\n                }\n\n                if(allowedExtension.indexOf(this.idCard.type) == -1){\n                    this.showNotification('unsupported '+this.idCard.type+' file selected!')\n                    return\n                }\n                \n                const obj = {\n                  name: this.name,\n                  phone: this.phone,\n                  location: this.location,\n                  email:this.email,\n                  password:this.password\n                };\n\n                const res = await fetch('api/auth/signup', {\n                      method: 'POST',\n                      headers: {'Content-type': 'application/json'},\n                      body: JSON.stringify(obj)\n                })\n\n                const data = await res.json()\n                if(res.status === 200){\n                      this.submitFile();\n                }else{\n                      this.showNotification(data.message)\n                  }\n            }else{\n              this.showNotification('password doesn\\'t match')\n            }\n        },\n        async submitFile(){\n            let formData = new FormData();\n            formData.append('tradeLicense', this.tradeLicense);\n            formData.append('idCard', this.idCard);\n            axios.post( 'api/images/rupload',formData,{headers: {'Content-Type': 'multipart/form-data'}}\n            ).then(function(){\n              this.$router.push('/menu')\n              console.log('SUCCESS!!');\n            })\n          .catch(function(){\n            this.showNotification('Image upload failed')\n          });\n        },\n        handleFileUpload(){\n          this.tradeLicense = this.$refs.tradeLicense.files[0];\n          this.idCard = this.$refs.idCard.files[0];\n        },\n        showNotification(msg){\n            this.notifications.push({id: 110,message: msg,type: 'dismissible'})\n        },\n        removeNotification(id){\n            this.notifications = this.notifications.filter((notif) => notif.id !== id)\n        },\n    } \n}\n</script>\n<style scoped>\n.container{\n    height:520px;\n}\n.file{\n  border: none;\n  height: 20px;\n  background: #F5F7F9;\n}\n.info{\n  margin-left: 2ex;\n  color: #222;\n  font-weight: lighter;\n  font-size: 12px;\n}\n.f{\n  font-weight: bold;\n  text-align: left;\n}\nh3{\n  color:black;\n  margin-bottom: 0ex;\n}\nhr{\n  margin-bottom: 2ex;\n}\n</style>"]}]}