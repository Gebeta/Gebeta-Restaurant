{"remainingRequest":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/babel-loader/lib/index.js!/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/hayyuu/Gebeta/Gebeta-Restaurant/src/components/AddItem.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/src/components/AddItem.vue","mtime":1630218053238},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9oYXl5dXUvR2ViZXRhL0dlYmV0YS1SZXN0YXVyYW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWRkSXRlbScsCiAgcHJvcHM6IHsKICAgIGl0bTogT2JqZWN0LAogICAgdXBkYXRlOiBCb29sZWFuCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9vZE5hbWU6ICcnLAogICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgIHByaWNlOiAwLAogICAgICBpc1NlcnZlZDogZmFsc2UsCiAgICAgIGl0ZW1JbWc6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CgogICAgICBpZiAoIXRoaXMuZm9vZE5hbWUpIHsKICAgICAgICB0aGlzLnNob3dOb3RpZmljYXRpb24oIkZvb2QgbmFtZSBFbXB0eSEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5pdGVtSW1nICYmICF0aGlzLnVwZGF0ZSkgewogICAgICAgIHRoaXMuc2hvd05vdGlmaWNhdGlvbignUGxlYXNlIGF0IGxlYXN0IGFkZCBvbmUgaW1hZ2UnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5pdGVtSW1nICYmIHRoaXMudXBkYXRlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnYWRkLWl0ZW0nLCBudWxsLCB0aGlzLm5ld0l0ZW0odGhpcy5pdG0uaW1nTG9jYXRpb24pKTsKICAgICAgICB0aGlzLmNsZWFyRmllbGRzKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgaW1nRGF0YSA9IHRoaXMuY2hlY2tJbWFnZXMoKTsKCiAgICAgIGlmIChpbWdEYXRhKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnYWRkLWl0ZW0nLCBpbWdEYXRhWzBdLCB0aGlzLm5ld0l0ZW0oaW1nRGF0YVsxXSkpOwogICAgICAgIHRoaXMuY2xlYXJGaWVsZHMoKTsKICAgICAgfQogICAgfSwKICAgIHNlbGVjdEZpbGU6IGZ1bmN0aW9uIHNlbGVjdEZpbGUoKSB7CiAgICAgIHRoaXMuaXRlbUltZyA9IHRoaXMuJHJlZnMuaXRlbUltZy5maWxlczsKICAgIH0sCiAgICBzaG93Tm90aWZpY2F0aW9uOiBmdW5jdGlvbiBzaG93Tm90aWZpY2F0aW9uKG1zZykgewogICAgICB0aGlzLiRlbWl0KCdhZGQtbm90aWZpY2F0aW9uJywgewogICAgICAgIGlkOiAwLAogICAgICAgIG1lc3NhZ2U6IG1zZywKICAgICAgICB0eXBlOiAnZGlzbWlzc2libGUnCiAgICAgIH0pOwogICAgfSwKICAgIG5ld0l0ZW06IGZ1bmN0aW9uIG5ld0l0ZW0oaW1nKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZm9vZE5hbWU6IHRoaXMuZm9vZE5hbWUsCiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sCiAgICAgICAgcHJpY2U6IHRoaXMucHJpY2UsCiAgICAgICAgaXNTZXJ2ZWQ6IHRoaXMuaXNTZXJ2ZWQsCiAgICAgICAgaW1nTG9jYXRpb246IGltZywKICAgICAgICByZXN0YXVyYW5kSWQ6IHN0b3JlLmlkCiAgICAgIH07CiAgICB9LAogICAgY2hlY2tJbWFnZXM6IGZ1bmN0aW9uIGNoZWNrSW1hZ2VzKCkgewogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgdmFyIGxlbiA9IHRoaXMuaXRlbUltZy5sZW5ndGg7CgogICAgICBpZiAobGVuID4gNSB8fCAodGhpcy51cGRhdGUgJiYgdGhpcy5pdG0uaW1nTG9jYXRpb24ubGVuZ3RoICsgbGVuKSA+IDUpIHsKICAgICAgICB0aGlzLnNob3dOb3RpZmljYXRpb24oJ1RvbyBtdWNoIGZpbGVzIHNlbGVjdGVkISAobWF4IGlzIDUpJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgaW1hZ2VzID0gW107CiAgICAgIHZhciBhbGxvd2VkRXh0ZW5zaW9uID0gWydpbWFnZS9qcGVnJywgJ2ltYWdlL2pwZycsICdpbWFnZS9wbmcnLCAnaW1hZ2UvZ2lmJywgJ2ltYWdlL2JtcCddOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgIHZhciBmaWxlID0gdGhpcy5pdGVtSW1nW2ldOwoKICAgICAgICBpZiAoYWxsb3dlZEV4dGVuc2lvbi5pbmRleE9mKGZpbGUudHlwZSkgPT0gLTEpIHsKICAgICAgICAgIHRoaXMuc2hvd05vdGlmaWNhdGlvbigndW5zdXBwb3J0ZWQgJyArIGZpbGUudHlwZSArICcgZmlsZSBzZWxlY3RlZCEnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGltYWdlc1tpXSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApICsgJy4nICsgZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKCk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJpdGVtSW1nIiwgZmlsZSk7CiAgICAgIH0KCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgiaW1ncyIsIEpTT04uc3RyaW5naWZ5KGltYWdlcykpOwoKICAgICAgaWYgKHRoaXMudXBkYXRlKSB7CiAgICAgICAgaW1hZ2VzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aGlzLml0bS5pbWdMb2NhdGlvbiksIF90b0NvbnN1bWFibGVBcnJheShpbWFnZXMpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIFtmb3JtRGF0YSwgaW1hZ2VzXTsKICAgIH0sCiAgICBjbGVhckZpZWxkczogZnVuY3Rpb24gY2xlYXJGaWVsZHMoKSB7CiAgICAgIHRoaXMuZm9vZE5hbWUgPSAnJzsKICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9ICcnOwogICAgICB0aGlzLnByaWNlID0gMDsKICAgICAgdGhpcy5pc1NlcnZlZCA9IGZhbHNlOwogICAgICB0aGlzLiRyZWZzLml0ZW1JbWcudmFsdWUgPSBudWxsOwogICAgICB0aGlzLml0ZW1JbWcgPSBudWxsOwogICAgfQogIH0sCiAgZW1pdHM6IFsiYWRkLWl0ZW0iLCAiYWRkLW5vdGlmaWNhdGlvbiJdCn07"},{"version":3,"sources":["/home/hayyuu/Gebeta/Gebeta-Restaurant/src/components/AddItem.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <img class=\"watermark\" src=\"../assets/logo.png\"/>\n    <form @submit=\"onSubmit\" class=\"add-form\">\n        <div class=\"form-control\">\n            <label for=\"foodName\">Food Item</label>\n            <input type=\"text\" v-model=\"foodName\" name=\"foodName\" :placeholder=\"update ? itm.foodName : 'Add food name'\">\n        </div>\n        <div class=\"form-control\">\n            <label for=\"description\">Item Description</label>\n            <textarea type=\"text\" v-model=\"description\" name=\"description\" :placeholder=\"update ? itm.description : 'write some description about the food'\"/>\n        </div>\n        <div class=\"form-control\">\n            <label for=\"price\">Price </label><span v-if=\"update\">{{itm.price}}</span>\n            <input type=\"text\" v-model=\"price\" name=\"price\">\n        </div>\n        <div class=\"form-control form-control-check\">\n            <label for=\"isServed\">Is avaliable?</label>\n            <span v-if=\"update && itm.isServed\">&#10003;</span>\n            <input type=\"checkbox\" v-model=\"isServed\" name=\"isServed\"/>\n        </div>\n        <div class=\"form-control\">\n            <label for=\"itemImg\">Add Items picture</label>\n            <span v-if=\"update\">{{itm.imgLocation}}</span>\n            <input type=\"file\" ref=\"itemImg\" @change=\"selectFile\" multiple accept=\".jpg, .jpeg, .png, .gif, .bmp\"/>\n        </div>\n        <input class=\"btn\" type=\"submit\" :value=\"update ? 'Update Item' : 'Save Item' \">\n    </form>\n</template>\n\n<script>\nimport store from '../store'\nexport default{\n    name:'AddItem',\n    props: {\n        itm: Object,\n        update: Boolean\n    }, \n    data(){\n        return{\n            foodName: '',\n            description: '',\n            price: 0,\n            isServed: false,\n            itemImg: null\n        }\n    },\n    methods: {\n        onSubmit(e){\n            e.preventDefault()\n\n            if(!this.foodName){\n                this.showNotification(\"Food name Empty!\")\n                return\n            }\n\n            if(!this.itemImg && !this.update){\n                this.showNotification('Please at least add one image')\n                return\n            }\n\n            if(!this.itemImg && this.update){\n                this.$emit('add-item', null , this.newItem(this.itm.imgLocation))\n                this.clearFields()\n                return\n            }\n            const imgData = this.checkImages()\n            if(imgData){\n                this.$emit('add-item', imgData[0] , this.newItem(imgData[1]))\n                this.clearFields()\n            }\n        },\n        selectFile(){\n            this.itemImg = this.$refs.itemImg.files\n        },\n        showNotification(msg){\n            this.$emit('add-notification',{id: 0,message: msg,type: 'dismissible'})\n        },\n        newItem(img){\n            return {\n                foodName: this.foodName,\n                description: this.description,\n                price: this.price,\n                isServed: this.isServed,\n                imgLocation: img,\n                restaurandId: store.id\n            }\n        },\n        checkImages(){\n            var formData = new FormData()\n            \n            var len = this.itemImg.length;\n            if(len>5 || (this.update && this.itm.imgLocation.length + len) > 5){\n                this.showNotification('Too much files selected! (max is 5)')\n                return\n            }\n\n            var images = []\n            let allowedExtension = ['image/jpeg', 'image/jpg', 'image/png','image/gif','image/bmp'];\n            for(var i = 0; i < len; i++)\n            {\n                var file = this.itemImg[i];\n                if(allowedExtension.indexOf(file.type)==-1){\n                    this.showNotification('unsupported '+file.type+' file selected!')\n                    return\n                }\n                images[i] = Math.floor(Math.random() * 1000000) + '.' + file.name.split('.').pop()\n                formData.append(\"itemImg\", file)\n            } \n            formData.append(\"imgs\", JSON.stringify(images))\n            if(this.update){images = [...this.itm.imgLocation, ...images]}\n            return [formData , images]\n        },\n        clearFields(){\n            this.foodName = ''\n            this.description = ''\n            this.price = 0\n            this.isServed= false\n            this.$refs.itemImg.value = null\n            this.itemImg = null\n        }\n    },\n    emits: [\"add-item\",\"add-notification\"]\n}\n</script>\n\n<style scoped>\n.add-form{\n    margin-top: 20px;\n    margin-bottom: 20px;\n}\n\n.form-control{\n    margin: 20px 0;\n}\n\n.form-control label{\n    display: block;\n    font-weight: bold;\n}\n\n.form-control input, textarea{\n    width: 55%;\n    height: 40px;\n    margin: 5px;\n    padding: 3px 7px;\n    font-size: 17px;\n}\n\ntextarea{\n    height: 100px;\n}\n\n.form-control-check{\n    display: inline;\n    justify-content: space-between;\n}\n\n.form-control-check label{\n    flex: 1;\n}\n\n.form-control-check input{\n    flex: 2;\n    width: 20%;\n    height: 20px;\n}\n\n.btn{\n    display: inline-block;\n    width: 60%;\n    background: rgba(107, 155, 107, 0.911);\n    color: white;\n    padding: 10px 20px;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    text-decoration: none;\n    margin: 5px;\n    font-size: 15px;\n}\n\n.form-control span{\n    font-size: 16px;\n    color: rgb(114, 77, 77);\n    display: inline;\n}\n\n.watermark { \n  user-select: none;\n  position: absolute;\n  opacity: 0.15;\n  z-index: 1;\n  right: 0;\n  max-height: 95%;\n  max-width: 95%;\n}\n\n@media (max-width:900px) {\n    .watermark { \n        max-width:50%;\n    }\n}\n</style>"],"sourceRoot":""}]}