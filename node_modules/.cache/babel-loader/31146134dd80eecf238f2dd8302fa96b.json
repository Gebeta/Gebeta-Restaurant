{"remainingRequest":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/babel-loader/lib/index.js!/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/hayyuu/Gebeta/Gebeta-Restaurant/src/views/Menu.vue?vue&type=template&id=7b8b0119","dependencies":[{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/src/views/Menu.vue","mtime":1630218053242},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1628298225000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBUcmFuc2l0aW9uIGFzIF9UcmFuc2l0aW9uLCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQgfSBmcm9tICJ2dWUiOwppbXBvcnQgX2ltcG9ydHNfMCBmcm9tICcuLi9hc3NldHMvZW1wdHkucG5nJzsKdmFyIF9ob2lzdGVkXzEgPSB7CiAga2V5OiAxLAogIGNsYXNzOiAiY29udGFpbmVyIiwKICBzdHlsZTogewogICAgIndpZHRoIjogIjgwMHB4IgogIH0KfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgbnVsbCwgIlRoZXJlIGFyZSBubyBpdGVtcyBpbiB5b3VyIG1lbnUuIFBsZWFzZSBBZGQgaXRlbXMhIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW1nIiwgewogIHNyYzogX2ltcG9ydHNfMAp9LCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNCA9IFtfaG9pc3RlZF8yLCBfaG9pc3RlZF8zXTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAibW9kYWwtb3ZlcmxheSIKfTsKdmFyIF9ob2lzdGVkXzYgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAibW9kYWwiCn07Cgp2YXIgX2hvaXN0ZWRfNyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoMSIsIG51bGwsICJBcmUgeW91IHN1cmU/IiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzggPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIG51bGwsICJEZWxldGluZyBJdGVtIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJidXR0b25zIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X0hlYWRlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJIZWFkZXIiKTsKCiAgdmFyIF9jb21wb25lbnRfQnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoIkJ1dHRvbiIpOwoKICB2YXIgX2NvbXBvbmVudF9BZGRJdGVtID0gX3Jlc29sdmVDb21wb25lbnQoIkFkZEl0ZW0iKTsKCiAgdmFyIF9jb21wb25lbnRfSXRlbXMgPSBfcmVzb2x2ZUNvbXBvbmVudCgiSXRlbXMiKTsKCiAgdmFyIF9jb21wb25lbnRfTm90aWZpY2F0aW9uTGlzdCA9IF9yZXNvbHZlQ29tcG9uZW50KCJOb3RpZmljYXRpb25MaXN0Iik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfSGVhZGVyLCB7CiAgICB0aXRsZTogIlJlc3RhdXJhbnQgTWVudSIKICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQnV0dG9uLCB7CiAgICBvbkNsaWNrOiAkb3B0aW9ucy50b2dnbGVJdGVtLAogICAgdGV4dDogJGRhdGEuc2hvd0FkZEl0ZW0gPyAnQ2xvc2UgWCcgOiAnQWRkIEl0ZW0nLAogICAgY29sb3I6ICRkYXRhLnNob3dBZGRJdGVtID8gJyM5MTRkM2MnIDogJyM0YjQyM2YnLAogICAgc3R5bGU6IHsKICAgICAgInBhZGRpbmciOiAiNXB4IDIwcHgiLAogICAgICAibWFyZ2luLWJvdHRvbSI6ICIxNXB4IgogICAgfQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJvbkNsaWNrIiwgInRleHQiLCAiY29sb3IiXSksICRkYXRhLnNob3dBZGRJdGVtID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfQWRkSXRlbSwgewogICAga2V5OiAwLAogICAgb25BZGRJdGVtOiAkb3B0aW9ucy5hZGRJdGVtLAogICAgb25BZGROb3RpZmljYXRpb246ICRvcHRpb25zLmFkZE5vdGlmaWNhdGlvbiwKICAgIGl0bTogJGRhdGEuaXRtLAogICAgdXBkYXRlOiAkZGF0YS51cGRhdGUKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25BZGRJdGVtIiwgIm9uQWRkTm90aWZpY2F0aW9uIiwgIml0bSIsICJ1cGRhdGUiXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9JdGVtcywgewogICAgb25EZWxldGVJdGVtOiAkb3B0aW9ucy5kZWwsCiAgICBvbkRlbGV0ZUltZzogJG9wdGlvbnMuZGVsZXRlSW1nLAogICAgb25Ub2dnbGVBdmFsaWFibGl0eTogJG9wdGlvbnMudG9nZ2xlUiwKICAgIG9uRWRpdEl0ZW06ICRvcHRpb25zLmVkaXRJdGVtLAogICAgaXRlbXM6ICRkYXRhLml0ZW1zCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbIm9uRGVsZXRlSXRlbSIsICJvbkRlbGV0ZUltZyIsICJvblRvZ2dsZUF2YWxpYWJsaXR5IiwgIm9uRWRpdEl0ZW0iLCAiaXRlbXMiXSksICRkYXRhLml0ZW1zLmxlbmd0aCA9PT0gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIF9ob2lzdGVkXzQpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2NyZWF0ZVZOb2RlKF9UcmFuc2l0aW9uLCB7CiAgICBuYW1lOiAiZmFkZSIsCiAgICBhcHBlYXI6ICIiCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gWyRkYXRhLnNob3dNb2RhbCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzUpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KSwgX2NyZWF0ZVZOb2RlKF9UcmFuc2l0aW9uLCB7CiAgICBuYW1lOiAic2xpZGUiLAogICAgYXBwZWFyOiAiIgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFskZGF0YS5zaG93TW9kYWwgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF82LCBbX2hvaXN0ZWRfNywgX2hvaXN0ZWRfOCwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAkb3B0aW9ucy5kZWxldGVJdGVtICYmICRvcHRpb25zLmRlbGV0ZUl0ZW0uYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICAgICAgfSkKICAgICAgfSwgIlllcyIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJidXR0b24iLCB7CiAgICAgICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJGRhdGEuc2hvd01vZGFsID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgfSwgIk5vIildKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfTm90aWZpY2F0aW9uTGlzdCwgewogICAgbm90aWZpY2F0aW9uczogJGRhdGEubm90aWZpY2F0aW9ucywKICAgIG9uUmVtb3ZlTm90aWZpY2F0aW9uOiAkb3B0aW9ucy5yZW1vdmVOb3RpZmljYXRpb24KICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsibm90aWZpY2F0aW9ucyIsICJvblJlbW92ZU5vdGlmaWNhdGlvbiJdKV0sIDY0CiAgLyogU1RBQkxFX0ZSQUdNRU5UICovCiAgKTsKfQ=="},{"version":3,"sources":["/home/hayyuu/Gebeta/Gebeta-Restaurant/src/views/Menu.vue"],"names":[],"mappings":";OAgBa,U,MAAyB,qB;;;AAFL,EAAA,KAAK,EAAC,W;AAAY,EAAA,KAAmB,EAAnB;AAAA,aAAA;AAAA;;;8BAC3C,mBAAA,CAA2D,IAA3D,EAA2D,IAA3D,EAAI,oDAAJ,EAAsD,CAAA;AAAA;AAAtD,C;;8BACA,mBAAA,CAAiC,KAAjC,EAAiC;AAA5B,EAAA,GAAyB,EAAzB;AAA4B,CAAjC,EAA8B,IAA9B,EAA8B,CAAA;AAAA;AAA9B,C;;kBADA,U,EACA,U;;;AAGK,EAAA,KAAK,EAAC;;;;AAGN,EAAA,KAAK,EAAC;;;8BACP,mBAAA,CAAsB,IAAtB,EAAsB,IAAtB,EAAI,eAAJ,EAAiB,CAAA;AAAA;AAAjB,C;;8BACA,mBAAA,CAAoB,GAApB,EAAoB,IAApB,EAAG,eAAH,EAAgB,CAAA;AAAA;AAAhB,C;;;AACK,EAAA,KAAK,EAAC;;;;;;;;;;;;;6DAxBnB,YAAA,CAAkC,iBAAlC,EAAkC;AAA1B,IAAA,KAAK,EAAC;AAAoB,GAAlC,C,EACA,YAAA,CAIoD,iBAJpD,EAIoD;AAH/C,IAAA,OAAK,EAAE,QAAA,CAAA,UAGwC;AAF/C,IAAA,IAAI,EAAE,KAAA,CAAA,WAAA,GAAW,SAAX,GAAW,UAE8B;AAD/C,IAAA,KAAK,EAAE,KAAA,CAAA,WAAA,GAAW,SAAX,GAAW,SAC6B;AAAhD,IAAA,KAA8C,EAA9C;AAAA,iBAAA,UAAA;AAAA,uBAAA;AAAA;AAAgD,GAJpD,E,IAAA,E;;AAAA,I,4BAAA,C,EAKiC,KAAA,CAAA,W,kBAAnC,YAAA,CACmE,kBADnE,EACmE;UAAA;AADzD,IAAA,SAAQ,EAAE,QAAA,CAAA,OAC+C;AAAhE,IAAA,iBAAgB,EAAE,QAAA,CAAA,eAA8C;AAA5B,IAAA,GAAG,EAAE,KAAA,CAAA,GAAuB;AAAjB,IAAA,MAAM,EAAE,KAAA,CAAA;AAAS,GADnE,E,IAAA,E;;AAAA,I,mDAAA,C,uCAEA,YAAA,CAIwB,gBAJxB,EAIwB;AAJhB,IAAA,YAAW,EAAE,QAAA,CAAA,GAIG;AAHhB,IAAA,WAAU,EAAE,QAAA,CAAA,SAGI;AAFhB,IAAA,mBAAkB,EAAE,QAAA,CAAA,OAEJ;AADhB,IAAA,UAAS,EAAE,QAAA,CAAA,QACK;AAAhB,IAAA,KAAK,EAAE,KAAA,CAAA;AAAS,GAJxB,E,IAAA,E;;AAAA,I,6EAAA,C,EAKa,KAAA,CAAA,KAAA,CAAM,MAAN,KAAY,C,kBAAvB,mBAAA,CAGM,KAHN,EAAA,UAAA,EAGM,UAHN,C,uCAIA,YAAA,CAEa,WAFb,EAEa;AAFD,IAAA,IAAI,EAAC,MAEJ;AAFW,IAAA,MAAM,EAAN;AAEX,GAFb,E;sBACI;AAAA,aAAkD,CAAjB,KAAA,CAAA,S,kBAAjC,mBAAA,CAAkD,KAAlD,EAAA,UAAA,C,qCAAkD,CAAlD;AAAA,K;;;;GADJ,C,EAGA,YAAA,CASa,WATb,EASa;AATD,IAAA,IAAI,EAAC,OASJ;AATY,IAAA,MAAM,EAAN;AASZ,GATb,E;sBACI;AAAA,aAOM,CAPmB,KAAA,CAAA,S,kBAAzB,mBAAA,CAOM,KAPN,EAAA,UAAA,EAOM,CANF,UAME,EALF,UAKE,EAJF,mBAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFF,mBAAA,CAAwC,QAAxC,EAAwC;AAA/B,QAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,iBAAE,QAAA,CAAA,UAAA,IAAA,QAAA,CAAA,UAAA,OAAA,QAAA,YAAF;AAAA,SAAA;AAA0B,OAAxC,EAA4B,KAA5B,CAEE,EADF,mBAAA,CAA8C,QAA9C,EAA8C;AAArC,QAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,iBAAE,KAAA,CAAA,SAAA,GAAS,KAAX;AAAA,SAAA;AAAgC,OAA9C,EAAmC,IAAnC,CACE,CAHN,CAIE,CAPN,C,qCAOM,CAPN;AAAA,K;;;;GADJ,C,EAUA,YAAA,CAC+C,2BAD/C,EAC+C;AAD5B,IAAA,aAAa,EAAE,KAAA,CAAA,aACa;AAA1C,IAAA,oBAAmB,EAAE,QAAA,CAAA;AAAqB,GAD/C,E,IAAA,E;;AAAA,I,yCAAA,C","sourcesContent":["<template>\n    <Header title=\"Restaurant Menu\" />\n    <Button \n        @click=\"toggleItem\" \n        :text=\"showAddItem ? 'Close X' : 'Add Item' \" \n        :color=\"showAddItem ? '#914d3c' : '#4b423f' \"\n        style=\"padding: 5px 20px; margin-bottom: 15px\"/>\n  <AddItem @add-item=\"addItem\" v-if=\"showAddItem\" \n    @add-notification=\"addNotification\" :itm=\"itm\" :update=\"update\"/>\n  <Items @delete-item=\"del\"\n         @delete-img=\"deleteImg\"\n         @toggle-avaliablity=\"toggleR\" \n         @edit-item=\"editItem\"\n         :items=\"items\" />\n    <div v-if=\"items.length===0\" class=\"container\" style=\"width:800px\">\n        <h1>There are no items in your menu. Please Add items!</h1>\n        <img src=\"../assets/empty.png\" />\n    </div>\n    <transition name=\"fade\" appear>\n        <div class=\"modal-overlay\" v-if=\"showModal\"></div>\n    </transition>\n    <transition name=\"slide\" appear>\n        <div class=\"modal\" v-if=\"showModal\">\n            <h1>Are you sure?</h1>\n            <p>Deleting Item</p>\n            <div class=\"buttons\">\n                <button @click=\"deleteItem\">Yes</button>\n                <button @click=\"showModal = false\">No</button>\n            </div>\n        </div>\n    </transition>\n    <NotificationList :notifications=\"notifications\" \n        @remove-notification=\"removeNotification\"/>\n</template>\n\n<script>\nimport store from '../store'\nimport Header from '../components/Header'\nimport Button from '../components/Button'\nimport Items from '../components/Items'\nimport AddItem from '../components/AddItem'\nimport NotificationList from '../components/NotificationList' \n\nimport axios from 'axios'\n\nexport default{\n    name: 'Menu',\n    components: {\n        Header,\n        Button,\n        Items,\n        AddItem,\n        NotificationList,\n    },\n    data() {\n        return{\n            items: [],\n            notifications: [],\n            showModal: false,\n            itm: [],\n            delId: '',\n            showAddItem: false,\n            update: false,\n            token: ''\n        }\n    },\n    methods: {\n        async deleteItem(){\n            const res =  await fetch(`api/items/${this.delId}`, {\n                method: 'DELETE',\n                headers: this.getHeader(),\n            })\n            const data = await res.json()\n            if(res.status === 200){\n                this.items = this.items.filter((item) => item._id !== this.delId)\n                this.addNotification({id: this.delId, message: data.message,type: 'success'})\n            } else{\n                this.addNotification({id: 7,message: 'Error deleting item',type: 'success'})\n            }\n            this.showModal = false\n        },\n        async toggleR(id){\n            const itemToToggle = await this.fetchItem(id)\n            const updItem = {...itemToToggle, isServed: !itemToToggle.isServed}\n\n            const res = await fetch(`api/items/${id}`,{\n                method: 'PUT',\n                headers: this.getHeader(),\n                body: JSON.stringify(updItem)\n            })\n\n            const data = await res.json()\n            if(data && data.isServed){this.addNotification({id: data._id,message: data.foodName + ' is now avaliable', type: 'success'})}\n            this.items = this.items.map((item)  => item._id === id ? {...item, isServed: data.isServed} : item)\n        },\n        async addItem(formData, newItem){\n            if(!this.update){\n                const res = await fetch('api/items', {\n                    method: 'POST',\n                    headers: this.getHeader(),\n                    body: JSON.stringify(newItem)\n                })\n\n                const data = await res.json()\n                if(res.status === 200){\n                    this.addImages(formData, data)\n                    this.addNotification({id: data._id,message: 'Item '+ data.foodName +' Added!',type: 'success'})\n                }else{\n                    this.addNotification({id: data._id,message: data.message,type: 'dismissible'})\n                }\n            }else{this.updateItem(formData, newItem)}\n        },\n        async updateItem(formData, newItem){\n             const res = await fetch(`api/items/${this.itm._id}`,{\n                method: 'PUT',\n                headers: this.getHeader(),\n                body: JSON.stringify(newItem)\n            })  \n            \n            const data = await res.json()\n            if(res.status === 200){ \n                if(formData){\n                    this.addImages(formData,data)\n                }else{this.items = this.items.map((item)  => item._id === data._id ? item = data : item )}\n                this.addNotification({id: data._id,message: 'Item '+ data.foodName +' Updated!',type: 'success'})\n            }else{\n                this.addNotification({id: data._id,message: data.message,type: 'dismissible'})\n            }\n        },\n        editItem(id){\n            var editData = this.items.find((item)  => item._id === id)\n            this.itm = editData\n            store.commit('toggleUpdate')\n            this.showAddItem = store.showAddItem\n            this.update = store.update\n            window.scrollTo(0,120);\n        },\n        async addImages(formData,data){\n            try {\n                var isNewItem = this.update ? false : true\n                formData.append(\"itemId\", data._id)\n                formData.append(\"isNewItem\",isNewItem)\n                const res = await axios.post('api/images/upload',formData, {headers: this.getHeader()}).then((result) => {return result;})\n                this.addNotification({id: 101,message: res.data.message,type: 'success'})\n                if(this.update){\n                    this.items = this.items.map((item)  => item._id === data._id ? item = data : item )\n                }else{this.items = [...this.items, data]}\n            } catch(err){\n                this.addNotification({id: 101,message: err,type: 'dismissible'})\n            }\n        },\n        async deleteImg(id, img){\n            const res = await fetch(`api/images/${id}`,{\n                method: 'PUT',\n                headers: this.getHeader(),\n                body: JSON.stringify({img: img})\n            })  \n\n            const data = await res.json()\n            if(res.status === 200){\n                this.items = this.items.map((item)  => item._id === id ? item = data : item )\n                this.addNotification({id: data._id,message: 'Image '+ img +' Deleted!',type: 'success'})\n            }\n        },\n        async fetchItems(){\n            const id = JSON.parse(localStorage.getItem('id'))\n            const res = await fetch(`api/items/menu/${id}`,{headers: this.getHeader()})\n            const data = await res.json()\n            return data\n        },\n        async fetchItem(id){\n            const res = await fetch(`api/items/${id}`,{headers: this.getHeader()})\n            const data = await res.json()\n            return data\n        },\n        del(id){ \n            this.showModal = true \n            this.delId = id\n        },\n        getHeader(){\n            const token = JSON.parse(localStorage.getItem('token'))\n            return {'Content-type': 'application/json', 'Authorization': ' Bearer ' + token}\n        },\n        addNotification(notif){\n            this.notifications.push(notif)\n        },\n        removeNotification(id){\n            this.notifications = this.notifications.filter((notif) => notif.id !== id)\n        },\n        toggleItem(){\n            store.commit('toggleItem')\n            this.update = false\n            this.showAddItem = store.showAddItem\n        }\n    },\n    async created(){\n        this.items = await this.fetchItems()\n        if(!this.items){this.items=[]}\n    }\n}\n</script>\n\n<style>\n.modal-overlay{\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 98;\n    background-color: rgba(0, 0, 0, 0.3);\n}\n\n.modal{\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%,-50%);\n    text-align: center;\n    z-index: 98;\n    width: 100%;\n    max-width: 400px;\n    background-color: rgb(243, 228, 225);\n    border-radius: 16px; \n    padding: 25px;\n}\n\n.modal h1{\n    color: rgba(148, 37, 37, 0.884);\n}\n\nbutton{\n    appearance: none;\n    outline: none;\n    border: none;\n    background: none;\n    cursor: pointer;\n    \n    display: inline-block;\n    padding: 5px 20px;\n    background-image: linear-gradient(to right, #a33e3e, #e95f5f);\n    border-radius: 10px;\n    \n    color: #FFF;\n    font-size: 18px;\n    font-weight: 700;\n    \n    box-shadow: 3px 3px rgba(54, 52, 52, 0.4);\n    transition: 0.4s ease-out;\n}\n\n.modal button{\n    margin-right: 20px;\n}\n\nbutton:hover {\n    box-shadow: 1px 1px rgba(87, 81, 81, 0.6);\n}\n\n.fade-leave-active{\n    transition: opacity .5s;\n}\n\n.fade-leave-to {\n    opacity: 0;\n}\n\n.slide-leave-active {\n    transition: transform .2s;\n}\n</style>\n"],"sourceRoot":""}]}