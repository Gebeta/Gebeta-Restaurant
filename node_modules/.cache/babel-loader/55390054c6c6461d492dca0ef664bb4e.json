{"remainingRequest":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/babel-loader/lib/index.js!/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/hayyuu/Gebeta/Gebeta-Restaurant/src/views/ApplyForRegistration.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/src/views/ApplyForRegistration.vue","mtime":1629721715027},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9oYXl5dXUvR2ViZXRhL0dlYmV0YS1SZXN0YXVyYW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVzdGF1cmFudEFwcGxpY2F0aW9uJywKICBwcm9wczogewogICAgaXRtOiBPYmplY3QsCiAgICB1cGRhdGU6IEJvb2xlYW4KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBidXNpbmVzc0xpY2Vuc2U6IG51bGwsCiAgICAgIG93bmVySWQ6IG51bGwsCiAgICAgIGxvY2F0aW9uOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdChlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKCiAgICAgIGlmICghdGhpcy5idXNpbmVzc0xpY2Vuc2UpIHsKICAgICAgICB0aGlzLnNob3dOb3RpZmljYXRpb24oIkJ1c2luZXNzIExpY2Vuc2UgRW1wdHkhIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgaW1nRGF0YSA9IHRoaXMuY2hlY2tJbWFnZXMoKTsKCiAgICAgIGlmIChpbWdEYXRhKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnYWRkLWl0ZW0nLCBpbWdEYXRhWzBdLCB0aGlzLm5ld0l0ZW0oaW1nRGF0YVsxXSkpOwogICAgICAgIHRoaXMuY2xlYXJGaWVsZHMoKTsKICAgICAgfQogICAgfSwKICAgIHNlbGVjdEZpbGU6IGZ1bmN0aW9uIHNlbGVjdEZpbGUoKSB7CiAgICAgIHRoaXMuaXRlbUltZyA9IHRoaXMuJHJlZnMuaXRlbUltZy5maWxlczsKICAgIH0sCiAgICBzaG93Tm90aWZpY2F0aW9uOiBmdW5jdGlvbiBzaG93Tm90aWZpY2F0aW9uKG1zZykgewogICAgICB0aGlzLiRlbWl0KCdhZGQtbm90aWZpY2F0aW9uJywgewogICAgICAgIGlkOiAwLAogICAgICAgIG1lc3NhZ2U6IG1zZywKICAgICAgICB0eXBlOiAnZGlzbWlzc2libGUnCiAgICAgIH0pOwogICAgfSwKICAgIG5ld0l0ZW06IGZ1bmN0aW9uIG5ld0l0ZW0oaW1nKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZm9vZE5hbWU6IHRoaXMuZm9vZE5hbWUsCiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sCiAgICAgICAgcHJpY2U6IHRoaXMucHJpY2UsCiAgICAgICAgaXNTZXJ2ZWQ6IHRoaXMuaXNTZXJ2ZWQsCiAgICAgICAgaW1nTG9jYXRpb246IGltZwogICAgICB9OwogICAgfSwKICAgIGNoZWNrSW1hZ2VzOiBmdW5jdGlvbiBjaGVja0ltYWdlcygpIHsKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIHZhciBsZW4gPSB0aGlzLml0ZW1JbWcubGVuZ3RoOwoKICAgICAgaWYgKGxlbiA+IDUgfHwgKHRoaXMudXBkYXRlICYmIHRoaXMuaXRtLmltZ0xvY2F0aW9uLmxlbmd0aCArIGxlbikgPiA1KSB7CiAgICAgICAgdGhpcy5zaG93Tm90aWZpY2F0aW9uKCdUb28gbXVjaCBmaWxlcyBzZWxlY3RlZCEgKG1heCBpcyA1KScpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGltYWdlcyA9IFtdOwogICAgICB2YXIgYWxsb3dlZEV4dGVuc2lvbiA9IFsnaW1hZ2UvanBlZycsICdpbWFnZS9qcGcnLCAnaW1hZ2UvcG5nJywgJ2ltYWdlL2dpZicsICdpbWFnZS9ibXAnXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICB2YXIgZmlsZSA9IHRoaXMuaXRlbUltZ1tpXTsKCiAgICAgICAgaWYgKGFsbG93ZWRFeHRlbnNpb24uaW5kZXhPZihmaWxlLnR5cGUpID09IC0xKSB7CiAgICAgICAgICB0aGlzLnNob3dOb3RpZmljYXRpb24oJ3Vuc3VwcG9ydGVkICcgKyBmaWxlLnR5cGUgKyAnIGZpbGUgc2VsZWN0ZWQhJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpbWFnZXNbaV0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKSArICcuJyArIGZpbGUubmFtZS5zcGxpdCgnLicpLnBvcCgpOwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiaXRlbUltZyIsIGZpbGUpOwogICAgICB9CgogICAgICBmb3JtRGF0YS5hcHBlbmQoImltZ3MiLCBKU09OLnN0cmluZ2lmeShpbWFnZXMpKTsKCiAgICAgIGlmICh0aGlzLnVwZGF0ZSkgewogICAgICAgIGltYWdlcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5pdG0uaW1nTG9jYXRpb24pLCBfdG9Db25zdW1hYmxlQXJyYXkoaW1hZ2VzKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBbZm9ybURhdGEsIGltYWdlc107CiAgICB9LAogICAgY2xlYXJGaWVsZHM6IGZ1bmN0aW9uIGNsZWFyRmllbGRzKCkgewogICAgICB0aGlzLmZvb2ROYW1lID0gJyc7CiAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSAnJzsKICAgICAgdGhpcy5wcmljZSA9IDA7CiAgICAgIHRoaXMuaXNTZXJ2ZWQgPSBmYWxzZTsKICAgICAgdGhpcy4kcmVmcy5pdGVtSW1nLnZhbHVlID0gbnVsbDsKICAgICAgdGhpcy5pdGVtSW1nID0gbnVsbDsKICAgIH0KICB9LAogIGVtaXRzOiBbImFkZC1pdGVtIiwgImFkZC1ub3RpZmljYXRpb24iXQp9Ow=="},{"version":3,"sources":["/home/hayyuu/Gebeta/Gebeta-Restaurant/src/views/ApplyForRegistration.vue"],"names":[],"mappings":";;;;;;;AA6BA,eAAc;AACV,EAAA,IAAI,EAAC,uBADK;AAEV,EAAA,KAAK,EAAE;AACH,IAAA,GAAG,EAAE,MADF;AAEH,IAAA,MAAM,EAAE;AAFL,GAFG;AAMV,EAAA,IANU,kBAMJ;AACF,WAAM;AACF,MAAA,eAAe,EAAE,IADf;AAEF,MAAA,OAAO,EAAE,IAFP;AAGF,MAAA,QAAQ,EAAE;AAHR,KAAN;AAKH,GAZS;AAaV,EAAA,OAAO,EAAE;AACL,IAAA,QADK,oBACI,CADJ,EACM;AACP,MAAA,CAAC,CAAC,cAAF;;AAEA,UAAG,CAAC,KAAK,eAAT,EAAyB;AACrB,aAAK,gBAAL,CAAsB,yBAAtB;AACA;AACJ;;AACA,UAAM,OAAM,GAAI,KAAK,WAAL,EAAhB;;AACA,UAAG,OAAH,EAAW;AACP,aAAK,KAAL,CAAW,UAAX,EAAuB,OAAO,CAAC,CAAD,CAA9B,EAAoC,KAAK,OAAL,CAAa,OAAO,CAAC,CAAD,CAApB,CAApC;AACA,aAAK,WAAL;AACJ;AACH,KAbI;AAcL,IAAA,UAdK,wBAcO;AACR,WAAK,OAAL,GAAe,KAAK,KAAL,CAAW,OAAX,CAAmB,KAAlC;AACH,KAhBI;AAiBL,IAAA,gBAjBK,4BAiBY,GAjBZ,EAiBgB;AACjB,WAAK,KAAL,CAAW,kBAAX,EAA8B;AAAC,QAAA,EAAE,EAAE,CAAL;AAAO,QAAA,OAAO,EAAE,GAAhB;AAAoB,QAAA,IAAI,EAAE;AAA1B,OAA9B;AACH,KAnBI;AAoBL,IAAA,OApBK,mBAoBG,GApBH,EAoBO;AACR,aAAO;AACH,QAAA,QAAQ,EAAE,KAAK,QADZ;AAEH,QAAA,WAAW,EAAE,KAAK,WAFf;AAGH,QAAA,KAAK,EAAE,KAAK,KAHT;AAIH,QAAA,QAAQ,EAAE,KAAK,QAJZ;AAKH,QAAA,WAAW,EAAE;AALV,OAAP;AAOH,KA5BI;AA6BL,IAAA,WA7BK,yBA6BQ;AACT,UAAI,QAAO,GAAI,IAAI,QAAJ,EAAf;AAEA,UAAI,GAAE,GAAI,KAAK,OAAL,CAAa,MAAvB;;AACA,UAAG,GAAG,GAAC,CAAJ,IAAS,CAAC,KAAK,MAAL,IAAe,KAAK,GAAL,CAAS,WAAT,CAAqB,MAArB,GAA8B,GAA9C,IAAqD,CAAjE,EAAmE;AAC/D,aAAK,gBAAL,CAAsB,qCAAtB;AACA;AACJ;;AAEA,UAAI,MAAK,GAAI,EAAb;AACA,UAAI,gBAAe,GAAI,CAAC,YAAD,EAAe,WAAf,EAA4B,WAA5B,EAAwC,WAAxC,EAAoD,WAApD,CAAvB;;AACA,WAAI,IAAI,CAAA,GAAI,CAAZ,EAAe,CAAA,GAAI,GAAnB,EAAwB,CAAC,EAAzB,EACA;AACI,YAAI,IAAG,GAAI,KAAK,OAAL,CAAa,CAAb,CAAX;;AACA,YAAG,gBAAgB,CAAC,OAAjB,CAAyB,IAAI,CAAC,IAA9B,KAAqC,CAAC,CAAzC,EAA2C;AACvC,eAAK,gBAAL,CAAsB,iBAAe,IAAI,CAAC,IAApB,GAAyB,iBAA/C;AACA;AACJ;;AACA,QAAA,MAAM,CAAC,CAAD,CAAN,GAAY,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAgB,OAA3B,IAAsC,GAAtC,GAA4C,IAAI,CAAC,IAAL,CAAU,KAAV,CAAgB,GAAhB,EAAqB,GAArB,EAAxD;AACA,QAAA,QAAQ,CAAC,MAAT,CAAgB,SAAhB,EAA2B,IAA3B;AACJ;;AACA,MAAA,QAAQ,CAAC,MAAT,CAAgB,MAAhB,EAAwB,IAAI,CAAC,SAAL,CAAe,MAAf,CAAxB;;AACA,UAAG,KAAK,MAAR,EAAe;AAAC,QAAA,MAAK,gCAAQ,KAAK,GAAL,CAAS,WAAjB,sBAAiC,MAAjC,EAAL;AAA6C;;AAC7D,aAAO,CAAC,QAAD,EAAY,MAAZ,CAAP;AACH,KArDI;AAsDL,IAAA,WAtDK,yBAsDQ;AACT,WAAK,QAAL,GAAgB,EAAhB;AACA,WAAK,WAAL,GAAmB,EAAnB;AACA,WAAK,KAAL,GAAa,CAAb;AACA,WAAK,QAAL,GAAe,KAAf;AACA,WAAK,KAAL,CAAW,OAAX,CAAmB,KAAnB,GAA2B,IAA3B;AACA,WAAK,OAAL,GAAe,IAAf;AACJ;AA7DK,GAbC;AA4EV,EAAA,KAAK,EAAE,CAAC,UAAD,EAAY,kBAAZ;AA5EG,CAAd","sourcesContent":["<template>\n    <Header title=\"Restaurant Application\" />\n    <Button \n        @click=\"toggleItem\" \n        :text=\"showAddItem ? 'Close X' : 'Add Item' \" \n        :color=\"showAddItem ? '#914d3c' : '#4b423f' \"\n        style=\"padding: 5px 20px; margin-bottom: 15px\"/>\n    <img class=\"watermark\" src=\"../assets/logo.png\"/>\n    <form @submit=\"onSubmit\" class=\"add-form\">\n        <div class=\"form-control\">\n            <label for=\"businessLicense\">Business License</label>\n            <span v-if=\"update\">{{itm.imgLocation}}</span>\n            <input type=\"file\" ref=\"itemImg\" @change=\"selectFile\" multiple accept=\".jpg, .jpeg, .png, .gif, .bmp\"/>\n        </div>\n        <div class=\"form-control\">\n            <label for=\"itemImg\">Add Items picture</label>\n            <span v-if=\"update\">{{itm.imgLocation}}</span>\n            <input type=\"file\" ref=\"itemImg\" @change=\"selectFile\" multiple accept=\".jpg, .jpeg, .png, .gif, .bmp\"/>\n        </div>\n        <div class=\"form-control\">\n            <label for=\"location\">Restaurant Location</label>\n            <input type=\"text\" v-model=\"foodName\" name=\"foodName\" :placeholder=\"update ? itm.foodName : 'Add food name'\">\n        </div>\n        <input class=\"btn\" type=\"submit\" :value=\"update ? 'Update Item' : 'Save Item' \">\n    </form>\n</template>\n\n<script>\n\nexport default{\n    name:'RestaurantApplication',\n    props: {\n        itm: Object,\n        update: Boolean\n    }, \n    data(){\n        return{\n            businessLicense: null,\n            ownerId: null,\n            location: '',\n        }\n    },\n    methods: {\n        onSubmit(e){\n            e.preventDefault()\n\n            if(!this.businessLicense){\n                this.showNotification(\"Business License Empty!\")\n                return\n            }\n            const imgData = this.checkImages()\n            if(imgData){\n                this.$emit('add-item', imgData[0] , this.newItem(imgData[1]))\n                this.clearFields()\n            }\n        },\n        selectFile(){\n            this.itemImg = this.$refs.itemImg.files\n        },\n        showNotification(msg){\n            this.$emit('add-notification',{id: 0,message: msg,type: 'dismissible'})\n        },\n        newItem(img){\n            return {\n                foodName: this.foodName,\n                description: this.description,\n                price: this.price,\n                isServed: this.isServed,\n                imgLocation: img\n            }\n        },\n        checkImages(){\n            var formData = new FormData()\n            \n            var len = this.itemImg.length;\n            if(len>5 || (this.update && this.itm.imgLocation.length + len) > 5){\n                this.showNotification('Too much files selected! (max is 5)')\n                return\n            }\n\n            var images = []\n            let allowedExtension = ['image/jpeg', 'image/jpg', 'image/png','image/gif','image/bmp'];\n            for(var i = 0; i < len; i++)\n            {\n                var file = this.itemImg[i];\n                if(allowedExtension.indexOf(file.type)==-1){\n                    this.showNotification('unsupported '+file.type+' file selected!')\n                    return\n                }\n                images[i] = Math.floor(Math.random() * 1000000) + '.' + file.name.split('.').pop()\n                formData.append(\"itemImg\", file)\n            } \n            formData.append(\"imgs\", JSON.stringify(images))\n            if(this.update){images = [...this.itm.imgLocation, ...images]}\n            return [formData , images]\n        },\n        clearFields(){\n            this.foodName = ''\n            this.description = ''\n            this.price = 0\n            this.isServed= false\n            this.$refs.itemImg.value = null\n            this.itemImg = null\n        }\n    },\n    emits: [\"add-item\",\"add-notification\"]\n}\n</script>\n\n<style scoped>\n.add-form{\n    margin-top: 20px;\n    margin-bottom: 20px;\n}\n\n.form-control{\n    margin: 20px 0;\n}\n\n.form-control label{\n    display: block;\n    font-weight: bold;\n}\n\n.form-control input, textarea{\n    width: 55%;\n    height: 40px;\n    margin: 5px;\n    padding: 3px 7px;\n    font-size: 17px;\n}\n\ntextarea{\n    height: 100px;\n}\n\n.form-control-check{\n    display: inline;\n    justify-content: space-between;\n}\n\n.form-control-check label{\n    flex: 1;\n}\n\n.form-control-check input{\n    flex: 2;\n    width: 20%;\n    height: 20px;\n}\n\n.btn{\n    display: inline-block;\n    width: 60%;\n    background: rgba(107, 155, 107, 0.911);\n    color: white;\n    padding: 10px 20px;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    text-decoration: none;\n    margin: 5px;\n    font-size: 15px;\n}\n\n.form-control span{\n    font-size: 16px;\n    color: rgb(114, 77, 77);\n    display: inline;\n}\n\n.watermark { \n  user-select: none;\n  position: absolute;\n  opacity: 0.15;\n  z-index: 1;\n  right: 0;\n  max-height: 95%;\n  max-width: 95%;\n}\n\n@media (max-width:900px) {\n    .watermark { \n        max-width:50%;\n    }\n}\n</style>"],"sourceRoot":""}]}