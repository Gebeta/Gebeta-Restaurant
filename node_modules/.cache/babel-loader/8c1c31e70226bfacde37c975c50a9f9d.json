{"remainingRequest":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/babel-loader/lib/index.js!/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/hayyuu/Gebeta/Gebeta-Restaurant/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/src/views/Login.vue","mtime":1629695528137},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hayyuu/Gebeta/Gebeta-Restaurant/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2hheXl1dS9HZWJldGEvR2ViZXRhLVJlc3RhdXJhbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgJ0AvYXNzZXRzL3N0eWxlcy9zdHlsZS5jc3MnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUnOwppbXBvcnQgTm90aWZpY2F0aW9uTGlzdCBmcm9tICcuLi9jb21wb25lbnRzL05vdGlmaWNhdGlvbkxpc3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIG5vdGlmaWNhdGlvbnM6IFtdCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgTm90aWZpY2F0aW9uTGlzdDogTm90aWZpY2F0aW9uTGlzdAogIH0sCiAgbWV0aG9kczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX2FyZ3VtZW50cyA9IGFyZ3VtZW50cywKICAgICAgICAgIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIG9iaiwgcmVzLCBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgZW1haWw6IF90aGlzLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogX3RoaXMucGFzc3dvcmQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnYXBpL2F1dGgvbG9naW4nLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShvYmopCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuIC0tLSAnICsgZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgnc2V0VG9rZW4nLCBfYXJndW1lbnRzWzFdID0gZGF0YS50b2tlbik7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJ21lbnUnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLm5vdGlmaWNhdGlvbnMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgaWQ6IDEwMDEsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXNtaXNzaWJsZScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZW1vdmVOb3RpZmljYXRpb246IGZ1bmN0aW9uIHJlbW92ZU5vdGlmaWNhdGlvbihpZCkgewogICAgICB0aGlzLm5vdGlmaWNhdGlvbnMgPSB0aGlzLm5vdGlmaWNhdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChub3RpZikgewogICAgICAgIHJldHVybiBub3RpZi5pZCAhPT0gaWQ7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/hayyuu/Gebeta/Gebeta-Restaurant/src/views/Login.vue"],"names":[],"mappings":";;;;AAqBA,OAAO,2BAAP;AACA,OAAO,KAAP,MAAkB,UAAlB;AACA,OAAO,gBAAP,MAA6B,gCAA7B;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,IAFa,kBAEP;AACJ,WAAM;AACJ,MAAA,KAAK,EAAC,EADF;AAEJ,MAAA,QAAQ,EAAC,EAFL;AAGJ,MAAA,aAAa,EAAE;AAHX,KAAN;AAKD,GARY;AASb,EAAA,UAAU,EAAC;AACT,IAAA,gBAAe,EAAf;AADS,GATE;AAYb,EAAA,OAAO,EAAC;AACI,IAAA,KADJ,mBACW;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACL,gBAAA,GADK,GACC;AAAE,kBAAA,KAAK,EAAC,KAAI,CAAC,KAAb;AAAoB,kBAAA,QAAQ,EAAC,KAAI,CAAC;AAAlC,iBADD;AAAA;AAAA,uBAEO,KAAK,CAAC,gBAAD,EAAmB;AACpC,kBAAA,MAAM,EAAE,MAD4B;AAEpC,kBAAA,OAAO,EAAE;AAAC,oCAAgB;AAAjB,mBAF2B;AAGpC,kBAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAe,GAAf;AAH8B,iBAAnB,CAFZ;;AAAA;AAEL,gBAAA,GAFK;AAAA;AAAA,uBAQQ,GAAG,CAAC,IAAJ,EARR;;AAAA;AAQL,gBAAA,IARK;;AASX,oBAAG,GAAG,CAAC,MAAJ,KAAe,GAAlB,EAAsB;AAChB,kBAAA,OAAO,CAAC,GAAR,CAAY,eAAa,IAAI,CAAC,KAA9B;AACA,kBAAA,KAAK,CAAC,MAAN,CAAa,UAAb,EAAyB,UAAS,CAAC,CAAD,CAAT,GAAe,IAAI,CAAC,KAA7C;;AACA,kBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,MAAlB;AACH,iBAJH,MAIO;AACD,kBAAA,KAAI,CAAC,aAAL,CAAmB,IAAnB,CAAwB;AAAC,oBAAA,EAAE,EAAE,IAAL;AAAW,oBAAA,OAAO,EAAE,IAAI,CAAC,OAAzB;AAAiC,oBAAA,IAAI,EAAE;AAAvC,mBAAxB;AACN;;AAfW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBZ,KAjBC;AAkBF,IAAA,kBAlBE,8BAkBiB,EAlBjB,EAkBoB;AAClB,WAAK,aAAL,GAAqB,KAAK,aAAL,CAAmB,MAAnB,CAA0B,UAAC,KAAD;AAAA,eAAW,KAAK,CAAC,EAAN,KAAa,EAAxB;AAAA,OAA1B,CAArB;AACJ;AApBE;AAZK,CAAf","sourcesContent":["<template>\n  <div class=\"idiv\"><img alt=\"logo\" src=\"../assets/logo.png\"></div>\n  <div class=\"container\">\n      <img src=\"../assets/login.png\" />\n      <form @submit.prevent=\"login\">\n          <div class=\"mb-3\">\n              <input type=\"email\" v-model=\"email\" placeholder=\"Email\">\n          </div>\n          <div class=\"mb-3\">     \n              <input type=\"password\" v-model=\"password\" placeholder=\"Enter Password\">\n          </div>    \n          <button type=\"submit\" class=\"btn\">Login</button>\n          <div class=\"mb-3\"><br/>\n              <label>Don't have account <router-link to='/register'>Register here</router-link></label>\n          </div>\n      </form>\n  </div>\n  <NotificationList :notifications=\"notifications\" @remove-notification=\"removeNotification\"/>\n</template>\n\n<script>\nimport '@/assets/styles/style.css';\nimport store from '../store'\nimport NotificationList from '../components/NotificationList'\n\nexport default {\n  name: 'Login',\n  data(){\n    return{\n      email:'',\n      password:'',\n      notifications: []\n    }\n  },\n  components:{\n    NotificationList\n  },\n  methods:{\n        async login(){\n          const obj = { email:this.email, password:this.password};\n          const res = await fetch('api/auth/login', {\n                method: 'POST',\n                headers: {'Content-type': 'application/json'},\n                body: JSON.stringify(obj)\n          })\n\n          const data = await res.json()\n          if(res.status === 200){\n                console.log('token --- '+data.token)\n                store.commit('setToken', arguments[1] = data.token)\n                this.$router.push('menu')\n            }else{\n                this.notifications.push({id: 1001, message: data.message,type: 'dismissible'})\n          }\n        },\n        removeNotification(id){\n            this.notifications = this.notifications.filter((notif) => notif.id !== id)\n        }\n    }\n}\n</script>\n\n<style scoped>\n.idiv{\n    height: 250px;\n    width: 300px;\n    margin: auto;\n}\n\n.idiv img{\n    vertical-align: middle;\n    height: 100%;\n    width: 100%;\n}\n\n</style>\n"],"sourceRoot":""}]}